---
sort: 2
---

# Docker - Application Packaging

## What we will see
 * How easy is to run an application packaged as docker
 * What are the states a dockerized application can be in
 * We will be understanding all these by running a series of experiments

## Experiment 1
 1. We can run an nginx web server application by the below command
```bash
docker run --name mynginx -p 8090:80 -d nginx
```
 1. It is possible that this command can fail due to authentication. Then you could create an account with docker hub and login as described [here - TBD](https://www.google.com)
 1. The output of the command should look similar to the picture below. We can observe that it was not able to find nginx image locally, so it downloaded the image.

![Download and Run Image](/L01-E01-P01.png)
 1. Verify the application is running by visiting [http://localhost:8090](http://localhost:8090). The page should look similar to the picture below.
 
 

![nginx page](/L01-E01-P02.png.png)
 1. <strong>We have now run an nginx application as docker container</strong>

## Experiment 2
 1. We can see all the containers running by the below command
```bash
docker ps
```
 1. We should be seeing an output similar to the picture below
![docker ps output](/L01-E02-P01.png)
 1. From the picture we can observe the following
   1. The container ID: This is generated by docker when the container is created
   1. The image name: This is the name of the image that was used to spin up the container
   1. The container name: The name of the container. This is passed as `--name` argument. If not passed, docker generates a random name
   1. The status: The status of the container

## Experiment 3
 1. Till now we have run a container, and seen the info about it. Now let's stop the container by the below command
```bash
docker stop mynginx
```
 1. To verify if the container has stopped, lets run the below command
```bash
docker ps
```
 1. The output should be similar to the image below indicating there are no containers running.
![docker ps output](/L01-E03-P01.png)
 1. Now, we can verify this by visiting the page [http://localhost:8090](http://localhost:8090) in incognito mode. The page should look similar to the picture below.

![Unreachable page](/L01-E03-P02.png)

## Experiment 4
 1. We have stopped the container, and as expected the command `docker ps` is not showing mynginx container.
 1. The container is stopped but not removed. We can see all containers including the stopped ones with the below command
```bash
docker ps -a
```
 1. The command should produce an output as the below picture indicating that the container is stopped (exited)
![docker ps -a output](/L01-E04-P01.png)
 
## Experiment 5
 1. Let's start the stopped container with the below command
```bash
docker start mynginx
```
 1. As seen earlier, we can verify that the container is running by visiting [http://localhost:8090](http://localhost:8090) in incognito mode, and also by running the below command
```bash
docker ps
```
 
## Experiment 6
 1. We have learnt how to stop a container. Now let's stop and <strong>remove</strong> the container by the below commands.
```bash
docker stop mynginx
```
```bash
docker rm mynginx
```
 1. We can now verify the containers is <strong>not</strong> present (in either running or stopped state) by the below command
```bash
docker ps -a
```
 
## Experiment 7
 1. We know how run (create and start) a container. We can also create a container without starting it with the command below
```bash
docker create --name mynginx -p 8090:80 nginx
```
 1. We can verify that the container is created but not running with the below command. Its output will be as shown in the picture below.
```bash
docker ps -a
```
![docker ps -a output](/L01-E07-P01.png) 
 
## Experiment 8
 1. We now have a container that is created but not yet running. We can run it with the below command
```bash
docker start mynginx
```
 1. Verify the container is running by visiting [http://localhost:8090](http://localhost:8090) in incognito mode

## Experiment 9
 1. It's also possible to restart the running container (or a stopped container) with the below command
```bash
docker restart mynginx
```
 1. We can verify the restart by observing the status of command below
```bash
docker ps
```
 1. The output should be as shown below
![docker ps -a output](/L01-E09-P01.png)
 
## Experiment 10
 1. Apart from starting, stopping containers we can also pause the container with the below command.
```bash
docker pause mynginx
``` 
 1. We can observe that container is paused with the below command
```bash
docker ps -a
```
 1. The output should be as shown below
![docker ps -a output](/L01-E10-P01.png)
 1. At this point, `docker stop` and `pause` would look similar. We will look at the difference between stop and pause in a later section.
 
## Experiment 11
 1. As expected we can resume or unpause a paused container by the below command
```bash
docker unpause mynginx
```

## Experiment 12
 1. Apart for stopping a container it's also possible to kill a container with the below command
```bash
docker kill mynginx
```
 1. At this point, `docker stop` and `kill` would look similar. We will look at the difference between stop and kill in a later section.
 1. We have now completed all the experiments that are part of this lesson. Lets leave it in a clean state by removing the container with the command below
```bash
docker rm mynginx
```

## Summary
From the experiments conducted till now we can understand the below points
 * Container is the running instance of dockerized application.
 * Image is the binary that is used to spin up a container
 * The container can be different states such as defined in Engine [api v1.24](https://docs.docker.com/engine/api/v1.24/)
   * created
   * restarting
   * running
   * paused
   * exited
   * dead
 * We will look in to state transition in a later lesson
 * docker run command is used to create a container and get it running
 * docker create command is used to create a container
 * docker start command is used to move a container to running state from created or exited state
 * docker pause command is used to pause a container
 * docker unpause command is used to move a container from paused state to running state
 * docker stop/kill command is used to move a container from running state to exited state
 * docker ps command to list all running containers
 * docker ps -a command to list all containers running and exited

## Test your self
 * What is an image?
 * What is a container?
 * What is the difference between an image and container?
 * Run, Stop, Remove the Container
   * Run a container from nginx image
   * Verify access to default page
   * Stop the container
   * Remove the container
 * Create, Start, Pause, Unpause, Stop and Remove
   * Create a nginx container
   * Start the created container
   * Verify access to default page
   * Pause the container
   * Verify the default page is not accessible
   * Unpause the container
   * Verify access to default page
   * Stop the container
   * Verify the default page is not accessible
   * Remove the container
   * Verify the removal with `docker ps -a` command
